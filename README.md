# ä¸°å·¢å¿«é€’åŠ©æ‰‹

![ä¸°å·¢å¿«é€’åŠ©æ‰‹](https://img.shields.io/badge/ç‰ˆæœ¬-1.0.0-blue)
![AIè¾…åŠ©å¼€å‘](https://img.shields.io/badge/AIè¾…åŠ©å¼€å‘-Claude_3.7-purple)
![å¼€å‘æ—¶é—´](https://img.shields.io/badge/å¼€å‘å‘¨æœŸ-2å¤©-green)
![python](https://img.shields.io/badge/ç‰ˆæœ¬-3.13.0-blue)

è¿™æ˜¯ä¸€ä¸ªåŸºäºVueå’ŒFastAPIå¼€å‘çš„ä¸°å·¢å¿«é€’æŸ¥è¯¢å’Œå¼€ç®±åŠ©æ‰‹ï¼Œå¸®åŠ©ç”¨æˆ·å¿«é€ŸæŸ¥çœ‹ã€ç®¡ç†å’Œå–å‡ºå¿«é€’ã€‚
é¡¹ç›®åœ°å€ï¼š [ç‚¹æˆ‘ä¼ é€](https://github.com/telegramtool/fengchao) 

## ç¤ºä¾‹å›¾

![image](https://github.com/user-attachments/assets/a7e8dc7b-b915-4d11-ac6d-4a20f9dd3303)
![image](https://github.com/user-attachments/assets/96427567-baf2-407f-b136-449e45165029)
![image](https://github.com/user-attachments/assets/f6340763-c7cf-4055-a1de-78de30c8a288)
![image](https://github.com/user-attachments/assets/3ab373e5-7d3c-4e46-9763-5c02cfe433ae)

## ä½œè€…
æœ‰é—®é¢˜å¯ä»¥åœ¨issueè¿›è¡Œäº¤æµ
### è”ç³»
å¦‚è‹¥ä¾µæƒ æˆ– é¡¹ç›®å¼€å‘ è¯·è”ç³»å¾®ä¿¡ï¼šlpsssk
![102487ced4cadfcf7709b2f0a068119c](https://github.com/user-attachments/assets/c676f28a-cc43-4521-8dbc-4352fcaa017c)
### æ‰“èµ
æ”¯ä»˜å®ï¼š![image](https://github.com/user-attachments/assets/2005d2c0-14fc-4c97-8ada-40dc7514b47d)

## æŠ€æœ¯æ ˆ

### åç«¯

- Python FastAPI  [pythonç‰ˆæœ¬å¯å‘ä¸‹å…¼å®¹ å¼€å‘ç¯å¢ƒä¸º3.13.0ç‰ˆæœ¬]
- ä½¿ç”¨ RESTful API è®¾è®¡
- åŠ å¯†æ–¹å¼: RSA + MD5 + Base64
- Uvicorn å¼‚æ­¥æœåŠ¡å™¨

### å‰ç«¯

- Vue.js 3
- Vuex 4 çŠ¶æ€ç®¡ç†
- Vue Router 4 è·¯ç”±
- Vite æ„å»ºå·¥å…·
- å“åº”å¼è®¾è®¡
- æ”¯æŒäº®è‰²/æš—è‰²ä¸»é¢˜åˆ‡æ¢

## åŠŸèƒ½ç‰¹ç‚¹

- ğŸ“± æ‰‹æœºéªŒè¯ç ç™»å½•ï¼Œæ— éœ€è®°ä½å¤æ‚å¯†ç 
- ğŸ“¦ æŸ¥çœ‹å¾…å–å¿«é€’å’Œå·²å–å¿«é€’åˆ—è¡¨
- ğŸ” ç›´è§‚å±•ç¤ºå¿«é€’å­˜æ”¾ä½ç½®å’ŒæŸœæœºå¯è§†åŒ–å¸ƒå±€
- ğŸšª ä¸€é”®å¼€ç®±å–ä»¶ï¼Œæ— éœ€æ‰‹åŠ¨è¾“å…¥å–ä»¶ç 
- ğŸŒ“ æ”¯æŒäº®è‰²/æš—è‰²ä¸»é¢˜åˆ‡æ¢ï¼Œèˆ’é€‚çš„ç”¨æˆ·ä½“éªŒ
- ğŸ’« ç°ä»£åŒ–UIè®¾è®¡ï¼Œå¹³æ»‘åŠ¨ç”»å’Œå…‰æ„Ÿæ•ˆæœ
- ğŸ”„ ä¸‹æ‹‰åˆ·æ–°å’ŒåŠ è½½æ›´å¤šåŠŸèƒ½ï¼Œæµç•…çš„ç”¨æˆ·ä½“éªŒ

## AIè¾…åŠ©å¼€å‘è¯´æ˜

æœ¬é¡¹ç›®åœ¨çŸ­çŸ­ä¸¤å¤©çš„ç©ºé—²æ—¶é—´å†…å®Œæˆï¼Œä¸»è¦é€šè¿‡AIè¾…åŠ©åŠ é€Ÿå¼€å‘æµç¨‹ï¼š

- ç•Œé¢è®¾è®¡å’Œäº¤äº’é€»è¾‘ç”±AIè¾…åŠ©å®Œæˆ
- å‰åç«¯APIæ¥å£å’Œæ•°æ®æµè®¾è®¡
- å“åº”å¼å¸ƒå±€å’Œä¸»é¢˜åˆ‡æ¢åŠŸèƒ½
- éƒ¨åˆ†å¤æ‚ç®—æ³•å’Œæ•°æ®å¤„ç†é€»è¾‘

## ä½¿ç”¨æ•™ç¨‹

### å®‰è£…è¿è¡Œ

1. å…‹éš†ä»“åº“

```bash
git clone https://github.com/telegramtool/fengchao.git
cd fengchao
```

2. å®‰è£…åç«¯ä¾èµ–

```bash
cd backend
pip install -r requirements.txt
```

3. å®‰è£…å‰ç«¯ä¾èµ–

```bash
cd frontend
npm install
```

4. è¿è¡Œåç«¯æœåŠ¡

```bash
cd backend
python app.py
```

æˆ–è€…ç›´æ¥ä½¿ç”¨ uvicorn:

```bash
uvicorn app:app --host 0.0.0.0 --port 5000 --reload
```

5. è¿è¡Œå‰ç«¯å¼€å‘æœåŠ¡å™¨

```bash
cd frontend
npm run dev
```

6. åœ¨æµè§ˆå™¨ä¸­è®¿é—®: <http://localhost:3000>

### ä½¿ç”¨æ–¹æ³•

1. åœ¨ç™»å½•é¡µé¢è¾“å…¥æ‚¨çš„æ‰‹æœºå·ç å¹¶è·å–éªŒè¯ç 
2. è¾“å…¥æ”¶åˆ°çš„éªŒè¯ç å®Œæˆç™»å½•
3. åœ¨ä¸»é¡µæŸ¥çœ‹æ‚¨çš„å¾…å–å¿«é€’å’Œå·²å–å¿«é€’
4. ç‚¹å‡»ä»»æ„å¿«é€’å¡ç‰‡å¯æŸ¥çœ‹è¯¦ç»†çš„æŸœæœºä½ç½®ä¿¡æ¯
5. ç‚¹å‡»"æ‰“å¼€æŸœé—¨"æŒ‰é’®å¯ç›´æ¥è¿œç¨‹å¼€ç®±å–ä»¶
6. ä½¿ç”¨å³ä¸Šè§’çš„ä¸»é¢˜åˆ‡æ¢æŒ‰é’®å¯ä»¥åˆ‡æ¢æš—è‰²/äº®è‰²æ¨¡å¼

## API æ–‡æ¡£

FastAPI è‡ªåŠ¨ç”Ÿæˆçš„ API æ–‡æ¡£å¯ä»¥åœ¨ä»¥ä¸‹åœ°å€è®¿é—®:

- Swagger UI: <http://localhost:5000/docs>
- ReDoc: <http://localhost:5000/redoc>

### ä¸»è¦ API

#### å‘é€éªŒè¯ç 

- è¯·æ±‚: POST /send_verification_code
- å‚æ•°: phoneNumber, sliderTicket(å¯é€‰), sliderRandstr(å¯é€‰),åŒipå‘é€å¤ªå¤šä¼šéœ€è¦è…¾è®¯éªŒè¯ç 
- è¿”å›: éªŒè¯å‚æ•°å’ŒçŠ¶æ€ä¿¡æ¯

#### ç™»å½•éªŒè¯

- è¯·æ±‚: POST /login
- å‚æ•°: phoneNumber, verificationCode, rsaPublicKey, clientIp, requestCode, timestamp
- è¿”å›: ç™»å½•çŠ¶æ€å’Œæˆæƒä¿¡æ¯

#### è·å–å·²å–è®¢å•

- è¯·æ±‚: GET /completed_orders
- å¤´ä¿¡æ¯: Authorization
- è¿”å›: å·²å–è®¢å•åˆ—è¡¨

#### è·å–å¾…å–è®¢å•

- è¯·æ±‚: GET /pending_orders
- å¤´ä¿¡æ¯: Authorization
- è¿”å›: å¾…å–è®¢å•åˆ—è¡¨

## æ‰“åŒ…éƒ¨ç½²æ•™ç¨‹

### å‰ç«¯æ‰“åŒ…

1. ä¿®æ”¹å‰ç«¯ç¯å¢ƒå˜é‡ï¼ˆå¦‚æœéœ€è¦ï¼‰

```bash
# åœ¨frontend/.envæ–‡ä»¶ä¸­è®¾ç½®APIåœ°å€
VITE_API_URL=http://your-api-domain.com
```

2. æ„å»ºå‰ç«¯åº”ç”¨

```bash
cd frontend
npm run build
```

3. æ„å»ºå®Œæˆåï¼Œdistç›®å½•åŒ…å«æ‰€æœ‰é™æ€èµ„æºæ–‡ä»¶

### åç«¯æ‰“åŒ…

1. ä½¿ç”¨PyInstalleræ‰“åŒ…ï¼ˆWindowsï¼‰

```bash
pip install pyinstaller
cd backend
pyinstaller --onefile app.py
```

2. ä½¿ç”¨Dockerå®¹å™¨åŒ–ï¼ˆæ¨èï¼‰

```bash
# åœ¨backendç›®å½•åˆ›å»ºDockerfile
FROM python:3.9-slim

WORKDIR /app

COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

COPY . .

CMD ["uvicorn", "app:app", "--host", "0.0.0.0", "--port", "5000"]
```

```bash
cd backend
docker build -t fengchao-backend .
docker run -d -p 5000:5000 fengchao-backend
```

## æœåŠ¡å™¨éƒ¨ç½²æ•™ç¨‹

### Nginx + uWSGI + FastAPI éƒ¨ç½²

1. å®‰è£…å¿…è¦å·¥å…·

```bash
sudo apt update
sudo apt install nginx python3-pip python3-dev
pip install uwsgi
```

2. é…ç½®Nginx

```nginx
server {
    listen 80;
    server_name yourdomain.com;

    location / {
        root /path/to/frontend/dist;
        index index.html;
        try_files $uri $uri/ /index.html;
    }

    location /api {
        include uwsgi_params;
        uwsgi_pass unix:/tmp/fengchao.sock;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

3. é…ç½®uWSGI

```ini
[uwsgi]
socket = /tmp/fengchao.sock
chmod-socket = 666
chdir = /path/to/backend
module = app:app
master = true
processes = 4
vacuum = true
die-on-term = true
```

4. å¯åŠ¨æœåŠ¡

```bash
uwsgi --ini uwsgi.ini &
sudo systemctl restart nginx
```

## ç”¨é€”

- ä¸ªäººç”¨æˆ·: å¿«é€ŸæŸ¥çœ‹å’Œç®¡ç†ä¸°å·¢å¿«é€’ï¼Œæ— éœ€æ‰‹åŠ¨è¾“å…¥éªŒè¯ç 
- å¿«é€’å‘˜: å¯ä»¥ååŠ©å®¢æˆ·è¿œç¨‹å¼€ç®±ï¼Œæé«˜æ´¾ä»¶æ•ˆç‡
- ç¤¾åŒºæœåŠ¡: å¯ä¸ºè€äººã€è¡ŒåŠ¨ä¸ä¾¿äººå£«æä¾›è¿œç¨‹å–ä»¶å¸®åŠ©
- ä¼ä¸šåº”ç”¨: å¯é›†æˆè‡³ä¼ä¸šå†…éƒ¨ç³»ç»Ÿï¼Œç®¡ç†å…¬å¸æ”¶å‘çš„å¿«é€’

## æ³¨æ„äº‹é¡¹

- æœ¬åº”ç”¨éœ€è¦é…åˆä¸°å·¢è´¦å·ä½¿ç”¨
- å¼€ç®±åŠŸèƒ½éœ€è¦è·ç¦»ç®±ä½“ä¸€å®šèŒƒå›´å†…æ‰èƒ½æ“ä½œ
- è¯·éµå®ˆç›¸å…³æ³•å¾‹æ³•è§„ï¼Œä¸å¾—ç”¨äºéæ³•ç”¨é€”
- è´¦å·å®‰å…¨è‡ªè¡Œè´Ÿè´£ï¼Œå»ºè®®ä¸è¦å…±äº«è´¦å·ä¿¡æ¯

## è®¸å¯è¯

MIT License

---

*æœ¬é¡¹ç›®ä¸ºä¸ªäººå­¦ä¹ ä¸ä½¿ç”¨ç›®çš„å¼€å‘ï¼Œä¸ä¸°å·¢å®˜æ–¹æ— å…³ã€‚*  
*é€šè¿‡AIè¾…åŠ©å¼€å‘ï¼Œåœ¨çŸ­çŸ­ä¸¤å¤©å†…ä»é›¶åˆ°ä¸€å®Œæˆå…¨æ ˆåº”ç”¨ã€‚*  
*æ­¤æ–‡æ¡£ä¹Ÿæ˜¯AIç”Ÿæˆçš„ï¼Œå¦‚è‹¥ä¾µæƒè¯·è”ç³»å¾®ä¿¡:lpssskã€‚*
